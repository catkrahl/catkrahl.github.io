<section id="callback">
    <div class="bg lightgray innerspace hero">
        <div class="container">

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <h3>Haben Sie Fragen?</h3>
                    <h1>Wir helfen Ihnen gerne weiter!</h1>
                    <p>Wir finden mit Ihnen gemeinsam eine passende Lösung für Ihre Anforderungen.
                    Vereinbaren Sie mit uns einen unverbindlichen Termin.</p>
                </div>
            </div>
            <p>&nbsp;</p>
            <div class="row">
               
                <div class="col-sm-12 col-md-5">
                    <form id="callback" method="post" action="request-callback.php">
                        
                        <h2>Möchten Sie zurückgerufen werden?</h2>
                        <input type="name" name="name" alt="Ihr Name / Unternehmen" value="" maxlength="50" minlength="5" size="22" placeholder="Ihr Name / Unternehmen" />
            
                        <input type="tel" name="number" alt="Ihre Telefonnummer" value="" maxlength="22" size="22" placeholder="Ihre Telefonnummer" />
                        <input class="btn btn-primary" type="submit" value="Rückruf anfordern" />
                        <!-- callback form feedbacks -->
                        <div class="fb-requesting">Ihre Anfrage wird gesendet...</div>
                        <div class="fb-successful">Ihre Anfrage wurde erfolgreich gesendet!</div>
                        <div class="fb-failed"><input class="btn btn-failed" type="submit" dirname="failed" value="Erneut absenden" /></div>
                        
                    </form>
                    <script>
                        document.getElementById("callback").addEventListener("submit", function(ev) {
                            ev.preventDefault();
            
                            var form = ev.target;
                            form.className = "requesting";
            
                            var requestIt = function() {
                                fetch(form.action, {
                                    method: form.method,
                                    body: new FormData(form)
                                })
                                .then(function(result) {
                                    return result.text();
                                })
                                .then(function(content) {
                                    if (content === "ok") {
                                        form.className = "successful";
                                    }
                                    else {
                                        window.setTimeout(requestIt, 2000);
                                    }
                                })
                                .catch(function(err) {
                                    form.reset();
                                    form.className = "failed";
                                });
                            };
                            requestIt();
                        });
                    </script>
                </div>
            </div>
        </div>
    </div>
</section>